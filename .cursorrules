# JongHan's Blog Development Rules

## 📝 포스팅 작성 시 항상 참고할 가이드라인

블로그 포스트를 작성할 때는 반드시 다음 규칙을 따라주세요:

### 파일명 규칙
- 형식: `YYYY-MM-DD-[대주제][소주제]제목.md`
- **자료구조 포스트**: `YYYY-MM-DD-[자료구조] 자료구조명 - 기본 예제/활용 - N.md`
- **Python 포스트**: `YYYY-MM-DD-[Python][라이브러리] 라이브러리명.md`
- **예시**: 
    - `2025-10-02-[자료구조] 자료구조와 알고리즘 개요.md`
    - `2025-10-03-[자료구조] 배열(Array) - 기본 예제.md`
    - `2025-10-03-[자료구조] 배열(Array) - 활용 - 1.md`
    - `2025-10-02-[Python][Arrow] Arrow 라이브러리.md`
- **중요**: 포스팅 작성 전 반드시 현재 날짜를 확인하고 파일명에 사용
    
### Front Matter 템플릿
```yaml
---
layout: post
title: "[대주제] [소주제] 제목"
date: YYYY-MM-DD HH:MM:SS +0900
categories: [대주제, 소주제]
tags: [태그1, 태그2, 태그3]
author: LimJongHan
toc: true
---
```

**자료구조 포스트 예시**:
```yaml
---
layout: post
title: "[자료구조] 배열(Array) - 기본 예제"
date: 2025-10-03 14:30:00 +0900
categories: [자료구조, 배열]
tags: [자료구조, 배열, 기본예제]
author: LimJongHan
toc: true
---
```

**Python 포스트 예시**:
```yaml
---
layout: post
title: "[Python] [Arrow] Arrow 라이브러리"
date: 2025-10-02 10:00:00 +0900
categories: [Python, Arrow]
tags: [Python, Arrow, 날짜시간]
author: LimJongHan
toc: true
---
```

**주의**: `date` 필드에는 포스팅 작성 당일의 실제 날짜와 시간을 사용 (한국 시간대 +0900)

### 포스트 구조 (학습 관련)
```markdown
# 📖 관련된 내 포스팅
- [이전 포스트 제목](링크)

# 📝 내용
## 개요
## 핵심 내용
## 정리

# 📚 레퍼런스
- [참고 자료](링크)

---
*이 포스트는 [대주제] 학습 과정을 정리한 내용입니다.*
```

### 관련 포스팅 자동 연결
- **새 포스팅 생성 시**: 기존 관련 포스팅들을 찾아서 "관련된 내 포스팅" 섹션에 새 포스팅 링크 추가
- **기존 포스팅 업데이트**: 새 포스팅과 관련된 기존 포스팅들의 "관련된 내 포스팅" 섹션도 자동으로 업데이트
- **연결성 강화**: 독자들이 관련 내용을 쉽게 찾을 수 있도록 포스팅 간 연결성 유지

### 카테고리 및 태그
- **카테고리**: [대주제, 소주제] 형태로 작성
- **자료구조 카테고리**: [자료구조, 자료구조명] (예: [자료구조, 배열], [자료구조, 스택])
- **Python 카테고리**: [Python, 라이브러리명] (예: [Python, Arrow], [Python, datetime])
- **기타 예시**: [프로젝트, 웹개발], [개발, Jekyll]
- **태그**: 기술명, 주제, 난이도 (예: Jekyll, 웹개발, 초급)

### 이미지 규칙
- 저장 위치: `assets/img/posts/[YYYY-MM-DD]/`
- 파일명: `[포스트파일명]-[순서].jpg`

## 🎨 블로그 설정 규칙

### 다크 테마 유지
- `theme_mode: dark` 설정 유지
- 다크 테마에 어울리는 색상과 스타일 사용

### 아바타 설정
- GitHub 프로필 이미지 사용: `https://github.com/LimJongHan.png`

### 언어 설정
- 한국어 기본: `lang: ko`
- 포스트 내용도 한국어로 작성

## 🔧 기술적 규칙

### Jekyll 설정
- Chirpy 테마 사용
- TOC 활성화: `toc: true`
- Google Analytics: `GTM-PXSTT9VD`

### Git 규칙
- 커밋 메시지는 영어로 작성
- 명확하고 간결한 커밋 메시지
- 변경사항을 명확히 설명
- **중요**: 명시적으로 푸시를 요청하지 않는 한 Git 푸시하지 않음
- **푸시 규칙**: 사용자가 "푸시해줘", "push해줘", "업로드해줘" 등으로 명시적으로 요청할 때만 푸시 실행
- 사용자가 직접 `git add`, `git commit`, `git push` 명령어 실행
- 커밋은 가능하지만 푸시는 사용자 승인 후에만 실행

### 🚨 HTML Proofer 검증 규칙

#### 링크 보안 규칙
- **절대 금지**: HTTP 링크 사용 (`http://`)
- **필수**: 모든 외부 링크는 HTTPS 사용 (`https://`)
- **자동 검증**: 포스트 작성 후 HTML Proofer로 검증 필수
- **오류 패턴**: `is not an HTTPS link` 오류 발생 시 즉시 수정

#### 외부 링크 작성 규칙
- **레퍼런스 섹션**: 모든 외부 링크는 HTTPS로 작성
- **일반적인 사이트들**:
  - `http://gameprogrammingpatterns.com/` → `https://gameprogrammingpatterns.com/`
  - `http://highscalability.com/` → `https://highscalability.com/`
  - `http://example.com/` → `https://example.com/`
- **링크 작성 시**: 항상 `https://`로 시작하는지 확인
- **검증 방법**: `grep -r "http://" _posts/` 명령어로 HTTP 링크 검색

#### post_url 태그 규칙
- **파일명 정확성**: `post_url` 태그에서 정확한 파일명 사용
- **형식**: `{% post_url YYYY-MM-DD-[대주제][소주제]제목 %}` (확장자 제외)
- **자료구조 예시**: `{% post_url 2025-10-03-[자료구조] 배열(Array) - 기본 예제 %}`
- **Python 예시**: `{% post_url 2025-10-02-[Python][Arrow] Arrow 라이브러리 %}`
- **오류 패턴**: `Could not find post` 오류 발생 시 파일명 확인
- **검증**: Jekyll 빌드 전 post_url 태그 유효성 검사

#### 프로토콜 상대 URL 규칙
- **금지**: `//`로 시작하는 프로토콜 상대 URL
- **필수**: 명시적 프로토콜 사용 (`https://`)
- **적용 범위**: DNS prefetch, 외부 리소스 링크
- **오류 패턴**: `protocol-relative URL` 경고 발생 시 즉시 수정

#### HTML Proofer 검증 프로세스
1. **로컬 빌드**: `JEKYLL_ENV=production bundle exec jekyll build`
2. **링크 검증**: `bundle exec htmlproofer _site --disable-external`
3. **오류 수정**: 발견된 오류 즉시 수정
4. **재검증**: 수정 후 다시 HTML Proofer 실행
5. **푸시**: 모든 검증 통과 후에만 푸시

#### 일반적인 오류와 해결책
- **HTTP 링크**: `http://` → `https://`로 변경
- **post_url 오류**: 파일명 전체 경로 확인 (날짜+제목)
- **프로토콜 상대**: `//domain.com` → `https://domain.com`
- **내부 링크**: 상대 경로 사용 권장

### 🔒 보안 및 개인정보 보호 규칙

#### 커밋 메시지 보안
- **절대 금지**: API 키, 토큰, ID, 비밀번호 등 개인정보를 커밋 메시지에 포함
- **안전한 예시**: 
  - ❌ `Update Google Analytics ID to G-PDDG0T301Q`
  - ✅ `Update Google Analytics configuration`
  - ❌ `Add API key: sk-1234567890abcdef`
  - ✅ `Add authentication configuration`
- **일반적인 메시지**: 기능 설명에 집중, 구체적인 값은 제외

#### 파일 내용 보안
- **민감한 정보 제외**: `.env`, `config/secrets.yml` 등 민감한 설정 파일은 `.gitignore`에 추가
- **환경변수 사용**: API 키, 데이터베이스 비밀번호 등은 환경변수로 관리
- **공개 저장소 주의**: GitHub 공개 저장소에 민감한 정보 업로드 금지

#### 설정 파일 보안
- **_config.yml**: 개인정보가 아닌 일반적인 설정만 포함
- **환경변수**: `JEKYLL_ENV=production` 등 환경별 설정은 환경변수 사용
- **하드코딩 금지**: 민감한 정보는 절대 코드에 직접 작성하지 않음

#### 검토 체크리스트
- [ ] 커밋 메시지에 개인정보 포함 여부 확인
- [ ] 파일 내용에 API 키, 토큰 등 민감한 정보 확인
- [ ] 공개 저장소에 업로드할 정보의 민감성 검토
- [ ] 환경변수 사용 가능 여부 확인

## 📋 포스트 작성 체크리스트

포스트 작성 시 다음을 확인하세요:
- [ ] **현재 날짜 확인** (파일명과 Front Matter date 필드에 사용)
- [ ] 파일명 규칙 준수
- [ ] Front Matter 올바르게 작성 (실제 작성 날짜 사용)
- [ ] 카테고리와 태그 적절히 설정
- [ ] 관련 포스트 링크 추가
- [ ] **기존 관련 포스팅들의 "관련된 내 포스팅" 섹션 업데이트**
- [ ] 레퍼런스 링크 포함 (HTTPS 링크만 사용)
- [ ] 이미지 최적화
- [ ] 맞춤법 검사
- [ ] **HTML Proofer 검증 통과** (링크, 이미지, 스크립트 검증)
- [ ] **post_url 태그 정확성 확인** (파일명 전체 경로)
- [ ] **외부 링크 HTTPS 확인** (http:// 사용 금지)
- [ ] **레퍼런스 링크 검증**: `grep -r "http://" _posts/` 실행하여 HTTP 링크 없음 확인

## 🚀 배포 프로세스

1. 로컬에서 미리보기: `bundle exec jekyll serve`
2. **HTTP 링크 검증**: `grep -r "http://" _posts/` 실행하여 HTTP 링크 없음 확인
3. **HTML Proofer 검증**: `JEKYLL_ENV=production bundle exec jekyll build && bundle exec htmlproofer _site --disable-external`
4. **오류 수정**: HTML Proofer 오류 발생 시 즉시 수정
5. 변경사항 커밋: `git add . && git commit -m "message"`
6. GitHub에 푸시: `git push origin main`
7. GitHub Pages에서 확인

## 📅 날짜 확인 방법

포스팅 작성 시 현재 날짜를 확인하는 방법:
1. **자동 확인**: AI 어시스턴트가 포스팅 작성 전 현재 날짜를 자동으로 확인
2. **수동 확인**: 터미널에서 `date` 명령어 실행
3. **한국 시간대**: UTC+9 (KST) 기준으로 날짜와 시간 설정

## 🔄 포스트 리팩토링 규칙

### 파일명 및 제목 변경 시 주의사항
- **파일명 변경**: `mv` 명령어로 파일명 변경 후 모든 관련 링크 업데이트 필수
- **post_url 태그 업데이트**: 파일명 변경 시 모든 `post_url` 태그를 새로운 파일명으로 수정
- **링크 텍스트 업데이트**: "관련된 내 포스팅" 섹션의 링크 텍스트도 새로운 제목으로 수정
- **검증 필수**: 변경 후 반드시 Jekyll 빌드 및 HTML Proofer 검증 실행

### 자료구조 포스트 구조화 규칙
- **기본 포스트**: `[자료구조] 자료구조명 - 기본 예제`
- **활용 포스트**: `[자료구조] 자료구조명 - 활용 - N` (N은 1, 2, 3...)
- **일관성 유지**: 모든 자료구조 포스트는 동일한 명명 규칙 적용
- **카테고리 통일**: `[자료구조, 자료구조명]` 형태로 통일

### Python 포스트 구조화 규칙
- **파일명 형식**: `[Python][라이브러리] 라이브러리명`
- **카테고리 형식**: `[Python, 라이브러리명]`
- **제목 형식**: `[Python] [라이브러리] 라이브러리명`

---

이 규칙들을 항상 참고하여 일관성 있는 블로그 포스트를 작성해주세요.
